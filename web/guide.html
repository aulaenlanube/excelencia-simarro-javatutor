<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaTutor IA - Guía Técnica</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body class="bg-slate-50 text-slate-900 flex flex-col min-h-screen">

    <div id="header-placeholder"></div>

    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full">
        <!-- HEADER SECTION -->
        <div class="text-center max-w-4xl mx-auto space-y-6 mb-20 page-content">
            <span
                class="px-4 py-1.5 bg-indigo-600 text-white text-[10px] font-black tracking-[0.2em] uppercase rounded-full shadow-lg shadow-indigo-200">
                Core Engineering Manual
            </span>
            <h1 class="text-5xl md:text-6xl font-black text-slate-900 tracking-tight">
                Metodología de <span class="text-indigo-600">Fine-Tuning</span>
            </h1>
            <p class="text-xl text-slate-600 leading-relaxed font-light">
                Guía técnica exhaustiva para el entrenamiento de <strong>JavaTutor IA</strong>. Desde la curación del
                dataset hasta el despliegue del modelo cuantizado.
            </p>
        </div>

        <!-- NEW SECTION: FINE-TUNING PIPELINE CONCEPTUAL -->
        <section id="methodology" class="space-y-16 mb-24">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Step A: Data Curation -->
                <div
                    class="bg-white rounded-[2rem] p-8 border border-slate-200 shadow-sm hover:shadow-xl transition-all group page-content stagger-1">
                    <div
                        class="w-14 h-14 bg-indigo-100 rounded-2xl flex items-center justify-center text-indigo-600 mb-6 group-hover:scale-110 transition-transform">
                        <i class="fas fa-filter text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-4">1. Curación de Datos</h3>
                    <div class="space-y-4">
                        <p class="text-sm text-slate-500 leading-relaxed">
                            No entrenamos con texto plano. Transformamos documentación técnica, ejercicios resueltos y
                            grabaciones en pares de <strong>Instrucción / Respuesta</strong> altamente estructurados.
                        </p>
                        <p class="text-xs text-slate-400 bg-slate-50 p-3 rounded-lg border-l-4 border-indigo-400">
                            La clave es la "Deduplicación Semántica": eliminamos conceptos redundantes para que el
                            modelo aprenda conceptos únicos con máxima eficiencia.
                        </p>
                    </div>
                    <ul class="mt-6 space-y-3 text-xs font-semibold text-slate-600">
                        <li class="flex items-center gap-2 text-indigo-600"><i class="fas fa-check-circle"></i> Limpieza
                            de ruido HTML/SST con Regex avanzado</li>
                        <li class="flex items-center gap-2 text-indigo-600"><i class="fas fa-check-circle"></i>
                            Verificación sintáctica con linters de Java</li>
                        <li class="flex items-center gap-2 text-indigo-600"><i class="fas fa-check-circle"></i> Formateo
                            compatible con Unsloth / Axolotl</li>
                    </ul>
                </div>

                <!-- Step B: Architecture -->
                <div
                    class="bg-white rounded-[2rem] p-8 border border-slate-200 shadow-sm hover:shadow-xl transition-all group page-content stagger-2">
                    <div
                        class="w-14 h-14 bg-emerald-100 rounded-2xl flex items-center justify-center text-emerald-600 mb-6 group-hover:scale-110 transition-transform">
                        <i class="fas fa-project-diagram text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-4">2. Configuración QLoRA</h3>
                    <div class="space-y-4">
                        <p class="text-sm text-slate-500 leading-relaxed">
                            Implementamos <strong>PEFT (Parameter-Efficient Fine-Tuning)</strong> mediante LoRA. En
                            lugar de actualizar todos los miles de millones de pesos, inyectamos pequeñas matrices de
                            rango bajo
                            en las capas lineales.
                        </p>
                        <div
                            class="bg-slate-50 p-4 rounded-xl font-mono text-[10px] text-slate-600 border border-slate-100">
                            <span class="text-emerald-600 font-bold">Rank (r):</span> 64 <span
                                class="text-slate-300 mx-2">|</span>
                            <span class="text-emerald-600 font-bold">Alpha:</span> 32<br>
                            <span class="text-emerald-600 font-bold">Target:</span> q_proj, k_proj, v_proj, o_proj<br>
                            <span class="text-emerald-600 font-bold">Dropout:</span> 0.05
                        </div>
                        <p class="text-xs text-slate-400">
                            Esto reduce el uso de VRAM de 160GB a menos de 48GB, permitiendo entrenar en configuraciones
                            multitarjeta RTX PRO 6000.
                        </p>
                    </div>
                </div>

                <!-- Step C: Optimization -->
                <div
                    class="bg-white rounded-[2rem] p-8 border border-slate-200 shadow-sm hover:shadow-xl transition-all group page-content stagger-3">
                    <div
                        class="w-14 h-14 bg-amber-100 rounded-2xl flex items-center justify-center text-amber-600 mb-6 group-hover:scale-110 transition-transform">
                        <i class="fas fa-microchip text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-4">3. Cuantización 4-bit</h3>
                    <div class="space-y-4">
                        <p class="text-sm text-slate-500 leading-relaxed">
                            Convertimos los pesos de 16-bit a <strong>4-bit NF4</strong>. Esta técnica de compresión
                            extrema es vital para la inferencia en tiempo real sin sacrificar apenas precisión.
                        </p>
                        <div class="bg-amber-50 p-4 rounded-xl border border-amber-100">
                            <div class="flex items-center gap-2 mb-2">
                                <i class="fas fa-bolt text-amber-500 text-xs"></i>
                                <span class="text-[10px] font-black uppercase text-amber-700">Hardware Optimized</span>
                            </div>
                            <p class="text-[11px] text-amber-800/80 leading-tight">
                                El nodo <strong>NVIDIA DGX SPARK (Architecture Blackwell)</strong> está diseñado
                                específicamente para acelerar modelos cuantizados a 4-bit, duplicando el rendimiento de
                                tokens por segundo.
                            </p>
                        </div>
                    </div>
                    <div class="mt-6 flex items-center gap-4">
                        <div class="flex-grow h-2 bg-slate-100 rounded-full overflow-hidden">
                            <div class="h-full bg-amber-500 w-[95%]"></div>
                        </div>
                        <span class="text-[10px] font-bold text-slate-400">95% Efficiency on Blackwell</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: DATASET FORMATTING - Simplified -->
        <section id="dataset-formatting" class="mb-24 space-y-12 page-content">
            <div class="flex items-center gap-4 mb-4">
                <div class="h-px flex-grow bg-slate-200"></div>
                <h2 class="text-2xl font-bold text-slate-800 uppercase tracking-widest text-sm italic">Preparación de
                    los Datos</h2>
                <div class="h-px flex-grow bg-slate-200"></div>
            </div>

            <div class="bg-indigo-900 rounded-[2.5rem] p-8 md:p-12 text-white relative overflow-hidden">
                <div class="absolute top-0 right-0 p-8 opacity-10"><i class="fas fa-magic text-9xl"></i></div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center relative z-10">
                    <div class="space-y-6">
                        <h3 class="text-3xl font-black">Enseñar el "Estilo Simarro"</h3>
                        <p class="text-indigo-100/80 leading-relaxed">
                            No basta con darle libros a la IA. Tenemos que enseñarle <strong>cómo explicamos las cosas
                                en clase</strong>. Convertimos ejercicios reales en un formato que la IA entiende como
                            una conversación entre profesor y alumno.
                        </p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="bg-white/10 p-4 rounded-2xl border border-white/10">
                                <h4 class="font-bold text-sm text-indigo-300">La Pregunta</h4>
                                <p class="text-[11px] text-indigo-100/60 mt-1">¿Cómo haría un alumno esta consulta en el
                                    aula?</p>
                            </div>
                            <div class="bg-white/10 p-4 rounded-2xl border border-white/10">
                                <h4 class="font-bold text-sm text-indigo-300">La Respuesta</h4>
                                <p class="text-[11px] text-indigo-100/60 mt-1">¿Cómo respondería un profesor para guiar
                                    sin dar la solución?</p>
                            </div>
                        </div>
                    </div>
                    <div
                        class="bg-black/40 rounded-3xl p-6 border border-white/5 font-mono text-[11px] text-slate-300 shadow-2xl overflow-hidden">
                        <div class="flex items-center gap-2 mb-4 border-b border-white/10 pb-2">
                            <div class="w-2 h-2 rounded-full bg-emerald-500"></div>
                            <span class="text-slate-500 tracking-tight">Ejemplo de entrenamiento (.json)</span>
                        </div>
                        <pre class="custom-scroll overflow-x-auto">
{
  "pregunta": "¿Por qué mi código Java no compila?",
  "contexto": "Alumno de 1º DAM",
  "respuesta_tutor": "Fíjate en la línea 5. ¿Ves algo diferente en el punto y coma? En el Simarro siempre revisamos la sintaxis antes del algoritmo..."
}</pre>
                    </div>
                </div>
            </div>

            <!-- ADITIONAL: Dataset Processor Code Simplified -->
            <div class="bg-white rounded-[2rem] border border-slate-200 p-8 shadow-sm">
                <div class="flex flex-col md:flex-row gap-8 items-center">
                    <div class="w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-broom text-2xl text-slate-400"></i>
                    </div>
                    <div>
                        <h4 class="text-lg font-bold text-slate-900">Limpieza Automática (Scripting)</h4>
                        <p class="text-sm text-slate-500 mt-1 max-w-2xl">
                            Usamos un pequeño programa (Python) que hace el trabajo sucio: lee miles de documentos,
                            quita lo que no sirve (publicidad, menús web) y se queda solo con el conocimiento puro de
                            programación.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: DOCKER & TRAINING - Simplified -->
        <section id="training-process" class="mb-24 space-y-12 page-content">
            <div class="flex items-center gap-4 mb-4">
                <div class="h-px flex-grow bg-slate-200"></div>
                <h2 class="text-2xl font-bold text-slate-800 uppercase tracking-widest text-sm italic">El Laboratorio de
                    Entrenamiento</h2>
                <div class="h-px flex-grow bg-slate-200"></div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Docker Card -->
                <div class="bg-white rounded-[2.5rem] border border-slate-200 p-10 flex flex-col justify-between">
                    <div>
                        <div class="w-14 h-14 bg-sky-50 text-sky-600 rounded-2xl flex items-center justify-center mb-6">
                            <i class="fab fa-docker text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-black text-slate-900 mb-4">El Contenedor (Docker)</h3>
                        <p class="text-slate-500 text-sm leading-relaxed mb-6">
                            Imagina una <strong>"caja fuerte digital"</strong> donde metemos todas las herramientas
                            necesarias. Esto nos asegura que el entrenamiento funcione igual en cualquier ordenador
                            potente del centro, sin errores de instalación.
                        </p>
                    </div>
                    <div
                        class="bg-slate-900 rounded-2xl p-4 font-mono text-[10px] text-sky-400 overflow-x-auto custom-scroll">
                        # Empaquetando el motor de IA<br>
                        FROM nvidia/cuda:12.1<br>
                        RUN pip install ai-tools
                    </div>
                </div>

                <!-- Training Card -->
                <div
                    class="bg-indigo-600 rounded-[2.5rem] p-10 text-white flex flex-col justify-between shadow-xl shadow-indigo-200">
                    <div>
                        <div class="w-14 h-14 bg-white/10 rounded-2xl flex items-center justify-center mb-6">
                            <i class="fas fa-dumbbell text-2xl"></i>
                        </div>
                        <h3 class="text-2xl font-black mb-4">El Entrenamiento Real</h3>
                        <p class="text-indigo-100 text-sm leading-relaxed mb-6">
                            Aquí es donde la magia ocurre. La IA lee el dataset miles de veces hasta que aprende a
                            hablar como un profesor. Usamos <strong>tarjetas gráficas (GPUs)</strong> ultra-potentes
                            para acelerar meses de estudio en pocas horas.
                        </p>
                    </div>
                    <div class="bg-black/20 rounded-2xl p-5 border border-white/10">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-[10px] font-bold uppercase tracking-wider text-indigo-300">Progreso del
                                Aprendizaje</span>
                            <span class="text-[10px] font-mono">82%</span>
                        </div>
                        <div class="h-1.5 w-full bg-indigo-900 rounded-full overflow-hidden">
                            <div class="h-full bg-white w-[82%]"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: REAL WORLD USE - Simplified -->
        <section id="usage-ready" class="mb-24 page-content">
            <div class="flex items-center gap-4 mb-4">
                <div class="h-px flex-grow bg-slate-200"></div>
                <h2 class="text-2xl font-bold text-slate-800 uppercase tracking-widest text-sm italic">¿Cómo se usa en
                    el aula?</h2>
                <div class="h-px flex-grow bg-slate-200"></div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
                <div class="lg:col-span-5 space-y-6">
                    <h3 class="text-4xl font-black text-slate-900">Del Código al Alumno</h3>
                    <p class="text-lg text-slate-600 font-light leading-relaxed">
                        Una vez entrenado, el "Cerebro" de la IA se conecta a una aplicación sencilla que los alumnos
                        tienen en su ordenador.
                    </p>
                    <div class="space-y-4">
                        <div class="flex gap-4">
                            <i class="fas fa-check text-emerald-500 mt-1"></i>
                            <p class="text-sm text-slate-600"><strong>Sin esperas:</strong> Responde en menos de 1
                                segundo.</p>
                        </div>
                        <div class="flex gap-4">
                            <i class="fas fa-check text-emerald-500 mt-1"></i>
                            <p class="text-sm text-slate-600"><strong>Dudas 24/7:</strong> El tutor está disponible
                                siempre, incluso en casa.</p>
                        </div>
                        <div class="flex gap-4">
                            <i class="fas fa-check text-emerald-500 mt-1"></i>
                            <p class="text-sm text-slate-600"><strong>Privado:</strong> Todo se queda en el servidor del
                                IES Simarro.</p>
                        </div>
                    </div>
                </div>
                <div class="lg:col-span-7">
                    <div class="bg-white rounded-[3rem] p-8 border-2 border-slate-100 shadow-2xl relative">
                        <div
                            class="absolute -right-4 -top-4 w-20 h-20 bg-emerald-500 rounded-full flex items-center justify-center text-white shadow-lg animate-bounce">
                            <i class="fas fa-rocket text-2xl"></i>
                        </div>
                        <h4 class="text-xs font-black text-slate-400 uppercase tracking-[0.2em] mb-6">Vista del
                            Programador</h4>
                        <div
                            class="bg-slate-900 rounded-2xl p-6 font-mono text-[11px] text-white overflow-x-auto custom-scroll">
                            <span class="text-emerald-400">// La IA le responde al alumno dentro de su
                                editor:</span><br>
                            <span class="text-indigo-300">JavaTutor ></span> <span class="text-slate-400">"Veo que has
                                olvidado cerrar la llave '}' en la clase Principal. Revisa el bloque del
                                'for'..."</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FINAL SECTION: EXPORT -->
        <section id="export" class="mb-24 page-content">
            <div class="bg-slate-900 rounded-[3rem] p-12 text-center text-white space-y-6">
                <i class="fas fa-check-double text-5xl text-emerald-400 mb-4"></i>
                <h3 class="text-3xl font-black">Modelo Listo para el Éxito</h3>
                <p class="text-slate-400 max-w-2xl mx-auto">
                    El resultado final es un archivo ligero que se ejecuta en cualquier servidor moderno. Es la
                    culminación de un proceso de ingeniería de datos hecho por y para el IES Simarro.
                </p>
                <div class="flex justify-center gap-4 pt-4">
                    <span
                        class="px-5 py-2 bg-white/5 rounded-full text-[10px] font-bold uppercase tracking-widest border border-white/10">Fase
                        1: Curación</span>
                    <span
                        class="px-5 py-2 bg-white/5 rounded-full text-[10px] font-bold uppercase tracking-widest border border-white/10">Fase
                        2: Entrenamiento</span>
                    <span
                        class="px-5 py-2 bg-emerald-500 rounded-full text-[10px] font-bold uppercase tracking-widest text-slate-900">Fase
                        3: Despliegue</span>
                </div>
            </div>
        </section>
    </main>

    <div id="footer-placeholder"></div>

    <script src="js/layout.js"></script>
    <script src="script.js"></script>
</body>

</html>